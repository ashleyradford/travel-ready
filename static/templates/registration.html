<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Registration</title>
</head>
<body>
    <script src="/validateName.js"></script>
    <script src="/validatePassword.js"></script>

    #if ($error == "dup")
        <p style="color:#FF0000">Username is already in use, please select another.</p>
    #elseif ($error == "failed")
        <p style="color:#FF0000">Could not register user, please try again.</p>
    #end

    <h3>New user registration</h3>

    <!-- method, sending data via POST request,
    action, which servlet is responsible for processing form when it's submitted -->
    <form method="post" action="/registration">
        Choose your username:<br>
            <input type="text"
                   name="name"
                   maxlength="16"
                   placeholder="Username"
                   pattern="[a-zA-Z][a-zA-Z0-9_]{2,16}" required
                   oninvalid="validateName(this);"><br>
        Choose your password:<br>
            <input type="password"
                   name="pass"
                   maxlength="20"
                   placeholder="Password"
                   pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%&]).{8,20}" required
                   oninvalid="validatePassword(this);">
        <p><input type="submit" value="Register"></p>
    </form>

    <p>Already have an account?</p>
    <form method="get" action="/login">
        <p><input type="submit" value="Login"></p>
    </form>
</body>
</html>