<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Registration</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="js/validateName.js"></script>
    <script src="js/validatePassword.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <div class="container-fluid">
            <ul class="navbar-nav flex-fill">
                <li class="nav-item">
                    <a type="button" class="btn btn-dark" href="/home">Back</a>
                </li>
            </ul>
            <ul class="navbar-nav flex-fill">
                <a class="navbar-brand">Travel Ready</a>
            </ul>
        </div>
    </nav>

    <div class="container-fluid text-center">
        <div class="row">
            <div class="col-sm-2 sidenav"></div>
            <div class="col-sm-8 fill">
                <br>
                <h3>New user registration</h3><br>
                <!-- method, sending data via POST request,
                action, which servlet is responsible for processing form when it's submitted -->
                <div class="forms">
                <form method="post" action="/registration">
                    <p><input type="text" name="name" maxlength="16"
                              class="form-control" style="width:250px"
                              placeholder="Choose username"
                              pattern="[a-zA-Z][a-zA-Z0-9_]{2,16}" required
                              oninvalid="validateName(this);"></p>
                    <p><input type="password" name="pass" maxlength="20"
                              class="form-control" style="width:250px"
                              placeholder="Choose password"
                              pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%&]).{8,20}" required
                              oninvalid="validatePassword(this);"></p>
                    <button type="submit" class="btn btn-success">Register</button>
                </form><br>
                </div>

                #if ($error == "dup")
                <p style="color:#FF0000">Username is already in use, please select another.</p>
                #elseif ($error == "failed")
                <p style="color:#FF0000">Could not register user, please try again.</p>
                #end

                <p>Already have an account?</p>
                <a type="button" class="btn btn-outline-dark smoll" href="/login">Login</a>
            </div>
            <div class="col-sm-2 sidenav"></div>
        </div>
    </div>

    <footer class="container-fluid text-center">
        <p>~</p>
    </footer>
</body>
</html>